(function(t){function e(e){for(var i,o,r=e[0],c=e[1],l=e[2],p=0,d=[];p<r.length;p++)o=r[p],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&d.push(s[o][0]),s[o]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);u&&u(e);while(d.length)d.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],i=!0,r=1;r<n.length;r++){var c=n[r];0!==s[c]&&(i=!1)}i&&(a.splice(e--,1),t=o(o.s=n[0]))}return t}var i={},s={app:0},a=[];function o(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=i,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=c;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"33fd":function(t,e,n){"use strict";var i=n("fed5"),s=n.n(i);s.a},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"lk row"},[n("Dialog",{directives:[{name:"show",rawName:"v-show",value:t.dialog,expression:"dialog"}],attrs:{message:t.message}}),n("Sidebar",{staticClass:"col-xl-3",attrs:{user:t.user}}),n("Body",{staticClass:"col-xl-9",attrs:{inventory:t.user.inventory,price:t.price},on:{onAction:t.actionBegine}})],1)},a=[],o=(n("99af"),n("d3b7"),n("96cf"),n("1da1")),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"lk-sidebar"},[n("div",{staticClass:"lk-menu"},[n("div",{staticClass:"lk-img"},[n("img",{attrs:{src:t.user.profileImg,alt:"logo"}})]),n("div",{staticClass:"lk-info"},[t._v(t._s(t.user.profileName))]),n("div",{staticClass:"lk-info"},[t._v(t._s(t.user.steamid))]),n("div",{staticClass:"lk-balance"},[t._v(t._s(t.user.balance)+" DC")]),n("div",{staticClass:"button",on:{click:function(e){return t.goTo("/User/Donate")}}},[t._v("Пополнить баланс")]),n("div",{staticClass:"button",on:{click:function(e){return t.goTo("/User/SignOut")}}},[t._v("Выход")])])])},c=[],l={props:["user"],methods:{goTo:function(t){window.location.href=t}},data:function(){return{}}},u=l,p=(n("f203"),n("2877")),d=Object(p["a"])(u,r,c,!1,null,null,null),v=d.exports,f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"lk-body"},[n("div",{staticClass:"lk-options",class:{"lk-options-enable":t.options.enabled}},[n("div",{staticClass:"lk-options-map"},[n("img",{attrs:{src:"/img/map.jpg",alt:"map"}}),n("div",{staticClass:"lk-options-pos",on:{click:function(e){t.$emit("onAction","pos",t.options.id,0),t.options.enabled=!1}}}),n("div",{staticClass:"lk-options-pos",on:{click:function(e){t.$emit("onAction","pos",t.options.id,1),t.options.enabled=!1}}}),n("div",{staticClass:"lk-options-pos",on:{click:function(e){t.$emit("onAction","pos",t.options.id,2),t.options.enabled=!1}}}),n("div",{staticClass:"lk-options-pos",on:{click:function(e){t.$emit("onAction","pos",t.options.id,3),t.options.enabled=!1}}}),n("div",{staticClass:"lk-options-pos",on:{click:function(e){t.$emit("onAction","pos",t.options.id,4),t.options.enabled=!1}}}),n("div",{staticClass:"lk-options-pos",on:{click:function(e){t.$emit("onAction","pos",t.options.id,5),t.options.enabled=!1}}}),n("div",{staticClass:"lk-options-pos",on:{click:function(e){t.$emit("onAction","pos",t.options.id,6),t.options.enabled=!1}}})]),n("div",{staticClass:"lk-options-buttons"},[n("div",{staticClass:"lk-options-name"},[t._v(t._s(t.options.name))]),t.options.active?t._e():n("div",{staticClass:"button",on:{click:function(e){t.$emit("onAction","activate",t.options.id),t.options.enabled=!1}}},[t._v("Активировать")]),n("div",{staticClass:"button",on:{click:function(e){t.$emit("onAction","sex",t.options.id),t.options.enabled=!1}}},[t._v("Сделать самкой")]),n("div",{staticClass:"button",on:{click:function(e){t.$emit("onAction","delete",t.options.id),t.options.enabled=!1}}},[t._v("Удалить")]),n("div",{staticClass:"button",on:{click:function(e){t.options.enabled=!1}}},[t._v("Назад")]),n("div",[n("h3",[t._v("Стоимость:")]),n("p",[t._v("Сменить пол - "),n("span",{staticClass:"lk-options-price"},[t._v(t._s(t.price.sex)+" DC")])]),n("p",[t._v("Телепортировать - "),n("span",{staticClass:"lk-options-price"},[t._v(t._s(t.price.position)+" DC")])])])])]),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.options.enabled,expression:"!options.enabled"}],staticClass:"lk-inventory row align-items-center"},[t._l(t.inventory,(function(e,i){return n("div",{key:i,staticClass:"lk-inventory-item",class:{"lk-inventory-activeted":e&&e.isActivated},attrs:{title:e?e.name+(e.isActivated?" : активен":" : не активен"):""},on:{click:function(n){return t.showOptions(e)}}},[n("div",e?[n("div",{staticClass:"lk-inventory-img"},[n("img",{attrs:{src:"/img/Dinos/"+e.image,alt:e.name}})]),n("div",{staticClass:"lk-inventory-tittle"},[t._v(t._s(e.name))])]:[n("div",{staticClass:"lk-inventory-tittle"},[t._v("Слот")]),n("div",{staticClass:"lk-inventory-tittle"},[t._v("свободен")])])])})),n("div",{staticClass:"lk-inventory-item lk-inventory-add",attrs:{title:"Добавить слот"},on:{click:function(e){t.$emit("onAction","slot"),t.options.enabled=!1}}},[t._v("+")])],2)])},m=[],b=(n("b0c0"),{props:["inventory","price"],data:function(){return{options:{id:-1,name:"",enabled:!1,active:!1}}},methods:{showOptions:function(t){t&&(this.options.id=t.id,this.options.name=t.name,this.options.active=t.isActivated,this.options.enabled=!0)}},mounted:function(){}}),g=b,h=(n("d71b"),Object(p["a"])(g,f,m,!1,null,null,null)),k=h.exports,x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dialog"},[n("div",{staticClass:"info"},[n("div",{staticClass:"info-tittle"},[t._v(t._s(t.message.tittle))]),n("div",{staticClass:"info-body"},[n("div",{staticClass:"info-text"},[t._v(t._s(t.message.text))]),n("div",{staticClass:"dialog-buttons"},[n("div",{directives:[{name:"show",rawName:"v-show",value:""!=t.message.btn1.text,expression:"message.btn1.text != ''"}],staticClass:"dialog-btn button",on:{click:function(e){return t.message.btn1.action()}}},[t._v(t._s(t.message.btn1.text))]),n("div",{directives:[{name:"show",rawName:"v-show",value:""!=t.message.btn2.text,expression:"message.btn2.text != ''"}],staticClass:"dialog-btn button",on:{click:function(e){return t.message.btn2.action()}}},[t._v(t._s(t.message.btn2.text))])])])])])},w=[],C={props:["message"]},_=C,y=(n("33fd"),Object(p["a"])(_,x,w,!1,null,null,null)),O=y.exports,j={name:"app",data:function(){return{user:{id:0,steamid:"",profileName:"",profileImg:"",balance:0,inventory:[]},action:!0,dialog:!1,message:{tittle:"",text:"",btn1:{text:"",action:function(){}},btn2:{text:"",action:function(){}}},price:{sex:200,position:100,slot:150}}},watch:{dialog:function(t){var e=document.getElementById("body");t?e.classList.add("disabled"):e.classList.remove("disabled")}},methods:{isDev:function(){return!1},actionBegine:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e,n,i){var s,a,r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.action&&!this.dialog){t.next=2;break}return t.abrupt("return");case 2:t.t0=e,t.next="pos"===t.t0?5:"activate"===t.t0?10:"slot"===t.t0?13:"sex"===t.t0?18:"delete"===t.t0?23:26;break;case 5:if(!(this.price.position>this.user.balance)){t.next=7;break}return t.abrupt("return",this.infoMessage("Недостаточно средств"));case 7:return a="Вы хотите телепортировать динозавра за ".concat(this.price.position," DC?"),s=function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e="/api/Spa/SetPosition?id=".concat(n,"&pos=").concat(i),r.request(e);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),t.abrupt("break",27);case 10:return a="Вы хотите активировать этого динозавра?",s=function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e="/api/Spa/ActivateDino?id=".concat(n),r.request(e);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),t.abrupt("break",27);case 13:if(!(this.price.slot>this.user.balance)){t.next=15;break}return t.abrupt("return",this.infoMessage("Недостаточно средств"));case 15:return a="Вы хотите добавить дополнительный слот для динозавра за ".concat(this.price.slot," DC?"),s=function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e="/api/Spa/AddSlot",r.request(e);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),t.abrupt("break",27);case 18:if(!(this.price.sex>this.user.balance)){t.next=20;break}return t.abrupt("return",this.infoMessage("Недостаточно средств"));case 20:return a="Желаете сменить пол этому диназавру за ".concat(this.price.sex," DC?"),s=function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e="/api/Spa/ChangeSex?id=".concat(n),r.request(e);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),t.abrupt("break",27);case 23:return a="Желаете удалить навсегда этого диназавра?",s=function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e="/api/Spa/DeleteDino?id=".concat(n),r.request(e);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),t.abrupt("break",27);case 26:return t.abrupt("return",this.infoMessage("Неизвестный запрос"));case 27:this.confirmMessage(a,s);case 28:case"end":return t.stop()}}),t,this)})));function e(e,n,i){return t.apply(this,arguments)}return e}(),request:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.action=!0,this.loadingMessage(),t.next=4,fetch(e);case 4:if(n=t.sent,!n.ok){t.next=13;break}return t.next=8,n.json();case 8:i=t.sent,this.infoMessage(i.message,i.error),i.error||this.getData(),t.next=14;break;case 13:this.infoMessage("Неверный ответ от сервера");case 14:this.action=!1;case 15:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),getData:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n,i,s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.isDev()){t.next=4;break}this.user={id:1,steamid:"76561198208390417",profileName:"SirEleot",profileImg:"https://steamcdn-a.akamaihd.net/steamcommunity/public/images/avatars/80/80b9eaafc8aa816019c1678e20430374a98c300a_full.jpg",balance:5e3,slots:3,inventory:[{id:2,name:"Раптор",image:"TestImg.png",isAlive:!0,isActivated:!1,vip:!0,craetionAs:"2020-01-04T13:13:32.216569"},{id:3,name:"Раптор",image:"TestImg.png",isAlive:!0,isActivated:!0,vip:!0,craetionAs:"2020-01-04T13:50:37.294443"},null]},t.next=17;break;case 4:return e="/api/Spa/GetUserInfo",t.next=7,fetch(e);case 7:if(n=t.sent,!n.ok){t.next=16;break}return t.next=11,n.json();case 11:for(i=t.sent,s=0;s<i.slots;s++)a=i.inventory[s],a||i.inventory.push(null);this.user=i,t.next=17;break;case 16:window.location.href="/";case 17:this.action=!1;case 18:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),loadingMessage:function(){var t=this;this.message={tittle:"Подождите",text:"Идет загрузка...",btn1:{text:"",action:function(){t.dialog=!1}},btn2:{text:"",action:function(){t.dialog=!1}}}},infoMessage:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.message={tittle:n?"Ошибка":"Информация",text:t,btn1:{text:"Ок",action:function(){e.dialog=!1,e.loadingMessage()}},btn2:{text:"",action:function(){e.dialog=!1}}},this.dialog=!0},confirmMessage:function(t,e){var n=this;this.message={tittle:"Подтверждение",text:t,btn1:{text:"Подтвердить",action:e},btn2:{text:"Отмена",action:function(){n.dialog=!1}}},this.dialog=!0}},components:{Sidebar:v,Body:k,Dialog:O},mounted:function(){this.getData()}},A=j,D=(n("5c0b"),Object(p["a"])(A,s,a,!1,null,null,null)),S=D.exports;i["a"].config.productionTip=!1,new i["a"]({render:function(t){return t(S)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";var i=n("9c0c"),s=n.n(i);s.a},"93a3":function(t,e,n){},9741:function(t,e,n){},"9c0c":function(t,e,n){},d71b:function(t,e,n){"use strict";var i=n("93a3"),s=n.n(i);s.a},f203:function(t,e,n){"use strict";var i=n("9741"),s=n.n(i);s.a},fed5:function(t,e,n){}});
//# sourceMappingURL=app.js.map